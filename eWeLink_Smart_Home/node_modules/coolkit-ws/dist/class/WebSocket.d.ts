/// <reference types="node" />
/// <reference types="ws" />
import { IConfig, IDeviceConfig, IResponse, IWsParams, ISendDeviceParams } from '../ts/interfaces';
import WebSocket from 'isomorphic-ws';
export default class WebSocketService {
    static connectConfig: IConfig;
    static hbInterval: NodeJS.Timeout | null;
    static isOpen: boolean;
    static ws: WebSocket | null;
    private static initClose;
    constructor(config: IConfig);
    private _initWs;
    private reconnect;
    private onOpen;
    private onError;
    private onClose;
    private onMessage;
    static sendMessage(params: IWsParams | string): void;
    private static _sendHandShakeMsg;
    sendThing(deviceConfig: IDeviceConfig, action: 'query' | 'update' | 'upgrade'): Promise<ISendDeviceParams>;
    init(): Promise<IResponse | WebSocket>;
    close(): void;
}
